%% LaTeX Beamer presentation template (requires beamer package)
%% see http://bitbucket.org/rivanvx/beamer/wiki/Home
%% idea contributed by H. Turgut Uyar
%% template based on a template by Till Tantau
%% this template is still evolving - it might differ in future releases!


\documentclass{diapo}

% Change the red coloring by main color coloring
\renewcommand{\red}[1]{\textcolor{\maincolor}{#1}}
\renewcommand\Ccancel[2][\maincolor]{\renewcommand\CancelColor{\color{#1}}\xcancel{#2}}
\newcommand{\bulletplus}{\textcolor{\maincolor}{\textcircled{+}}}
\newcommand{\bulletminus}{\textcolor{\secondcolor}{\textcircled{--}}}
\graphicspath{{images/}}

\setbeamersize{text margin left = 0pt}
\setbeamersize{text margin right = 0pt}


% Picture graphic
\newcommand\DrawCloud[3][black]{
  % Average
  \addplot[mark=*, mark options ={fill=#1,xscale=2.,yscale=2.}, draw=#1, only marks]
    table[x=AVG_#3_fill_rate_service_level, y=AVG_#3_holding_cost] {#2};
  % Cloud
  \addplot[forget plot, mark=*, mark options ={fill=#1,xscale=.5,yscale=.5}, draw=#1, only marks]
        table[x=#3_fill_rate_service_level, y=#3_holding_cost] {#2};
}


\newcommand\DrawMix[3][black]{
  \addplot[mark=none,mark options ={fill=#1}, draw=#1, smooth]
      table[x=#3_fill_rate_service_level, y=#3_holding_cost] {#2};
}


\begin{document}

\coverframe{Balancing Cost and Flexibility in Supply Chain}
{Etienne de Saint Germain, PhD Defense}
{December 17th, 2018}
{Directed by Vincent Leclère and Frédéric Meunier}


\begin{myframe}[Supply Chain challenge]

\mytext[4.5,4.5][stock]{\blockwidth}{anchor = north}{
  \center
  \textcolor{argon orange}{Stock}

  Locked-in money
}

\mytext[8.5,4.5][service]{\blockwidth}{anchor = north}{
  \center
  \textcolor{argon orange}{Service}

  Fill rate service level
}

\mytext[$.5*(stock.north)+.5*(service.north)+.87*(0,4)$][cost]{\blockwidth}{anchor = center}{
  \center
  \textcolor{argon orange}{Cost}

  Investment, production, shipping...
}

\draw[argon orange, thick, fill=argon orange!10] (cost.south) -- (stock.north) -- (service.north) -- cycle;

\mytext[$(stock.north)+(.4,.1)$]{\blockwidth}{anchor = south west}{\textcolor{argon gray}{(low)}}
\mytext[$(service.north)+(-.4,.1)$]{\blockwidth}{anchor = south east}{\flushright\textcolor{argon gray}{(high)}}
\mytext[$(cost.south)-(0,.5)$]{\blockwidth}{anchor = north}{\center\textcolor{argon gray}{(low)}}

\mytext[0,1]{\blockwidth}{anchor = south west,
  inner sep = 2pt
}{
  \begin{itemize}
  \item \emph{Industrial agility} = ability to face variations in customers’ demand
    \begin{itemize}
    \item \emph{Capacitative reactivity} (global volume)
    \item \emph{Flexibility} (product mix)
    \end{itemize}
  \item Increase agility (cost $\nearrow$) $\implies$ Stock $\searrow$ and service $\nearrow$
  \end{itemize}
}

\end{myframe}


\begin{myframe}[Business context]

\mytext[0,0]{\blockwidth}{anchor = south west,
  inner sep = 0pt
}{
  \input{images/models_time-line.tex}
}

\end{myframe}


\begin{frame}[plain]
  \begin{centering}
    \begin{tikzpicture}

      % Windows
      \clip (0,0) rectangle (\paperwidth,\paperheight);

      % Headers
      \node[anchor = west, color = \maincolor] (outline) at (\xlmargin, {\paperheight-.5*\headerheight}) {\textbf{\outline}};

      % Separator from the table of content
      \draw[color=\maincolor] (0,{\paperheight-\headerheight}) -- (\paperwidth,{\paperheight-\headerheight});

      % Table of contents
      \mytext[\xlmargin,{\paperheight-2*\headerheight}]{.5\paperwidth}{anchor = north west, inner sep = 2pt
      }{
        \setcounter{tocdepth}{2}
        \renewcommand{\baselinestretch}{1.}\small
        \tableofcontents
        \renewcommand{\baselinestretch}{1.}\normalsize
      }

      % Separator from the body of the slide
      \draw[color=\secondcolor] (0,\footerheight) -- (\paperwidth,\footerheight);


      % Logo
      \node[anchor = west] at (\xlmargin,{(\footerheight+.1cm)/2}) {\includegraphics[height={\footerheight-.25cm}]{\mylogo}};

      % Rectangle at the bottom
      \draw[color=\maincolor, fill=\maincolor] (0,0) rectangle (\paperwidth,.1cm);

      % Vertical rectangle
      \draw[color=\maincolor, fill=\maincolor] (.55*\paperwidth,0) rectangle (.57*\paperwidth,\paperheight);
      % Image of the theme
      \node[anchor = west] at (.56*\paperwidth,.5*\paperheight) {\includegraphics[height=\paperheight]{\imagetheme}};

    \end{tikzpicture}
  \end{centering}
\end{frame}


\section{Discrete-time inventory model (20')}


\subsection{Business problem and contribution}


\begin{myframe}[Business problem]

  \mytext{\blockwidth}{anchor = north west,
    inner sep = 2pt
  }{
    \begin{itemize}
    \item Context: production function of the Supply Chain for one assembly line
    \item Objective: reduction of holding costs
    \item Main constraints: industrial flexibility and ``high service level''
    \item Typical horizon: 10 to 15 weeks
    \item Typical time step: 1 week
    \item Input data
        \begin{itemize}
        \item a set of items $i\in\REF$
        \item production capacity $\capacity$ of the line
        \item random demand $\va\demand_t^i$ for each item $i$ and each week $t$
        \end{itemize}
    \end{itemize}
  }

\end{myframe}


\begin{myframe}[Contributions]

\mytext{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
  \item A new lot-sizing model
  \begin{itemize}
    \item Flexibility constraint
  \end{itemize}
  \item A probabilistic model for demand distribution
  \begin{itemize}
    \item Variation of product mix
  \end{itemize}
  \item A method to price backorder costs
  \item A solving method
  \begin{itemize}
    \item Validated on real dataset
  \end{itemize}
  \end{itemize}
}

\end{myframe}


\subsection{Model}


\begin{myframe}[Classical problem: Capacitated Lot-Sizing Problem (CLSP)]

\mytext[current][CLSP]{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \only<1>
  {
    \begin{equation}\tag{CLSP}
      \begin{array}{rl@{\qquad}l}
        \min & \multicolumn{2}{l}{\ds \sum_{t=1}^{\horizon} \sum_{i\in\REF}\bracket{\holding^i\inventory_t^i + c^i \setup_t^i}}
        \\
        \st & \ds \inventory_t^i = \inventory_{t-1}^i + \quantity_t^i - \demand_t^i & \forall t, \forall i
        \\
        & \ds \sum_{i\in\REF} \rate^i\quantity_t^i \le \capacity & \forall t
        \\
        & \ds \rate^i\quantity_t^i \le \capacity\setup_t^i\phantom{\Ccancel{\rate^i}} & \forall t, \forall i
        \\
        & \ds \setup_t^i \in \crbracket{0,1} & \forall t, \forall i
        \\
        & \ds \quantity_t^i,\ \inventory_t^i \ge 0 & \forall t, \forall i
      \end{array}
    \end{equation}
  }

  \only<2>
  {
    \begin{equation}\label{eq:CLSP}\tag{CLSP}
      \begin{array}{rl@{\qquad}l}
        \min & \multicolumn{2}{l}{\ds \sum_{t=1}^{\horizon} \sum_{i\in\REF}\bracket{\holding^i\inventory_t^i + c^i \setup_t^i}}
        \\
        \st & \ds \inventory_t^i = \inventory_{t-1}^i + \quantity_t^i - \demand_t^i & \forall t, \forall i
        \\
        & \ds \sum_{i\in\REF} \Ccancel{\rate^i}\quantity_t^i \le \red{1} & \forall t
        \\
        & \ds \Ccancel{\rate^i}\quantity_t^i \le \Ccancel{\capacity}\setup_t^i & \forall t, \forall i
        \\
        & \ds \setup_t^i \in \crbracket{0,1} & \forall t, \forall i
        \\
        & \ds \quantity_t^i,\ \inventory_t^i \ge 0 & \forall t, \forall i
      \end{array}
    \end{equation}
  }
}

\mytext[CLSP.west]{\blockwidth}{anchor = west,
  inner sep = 2pt
}{
  \only<2>{\red{(Normalized)}}
}

\mytext[CLSP.south west]{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
  \item with ($i\in\REF$ for items, $t\in\range{T}$ for weeks):
    \begin{center}
      \begin{tabular}{|ll|ll|}
        \hline
        \multicolumn{2}{|c|}{input data} & \multicolumn{2}{c|}{variables} \\\hline
        $\holding^i$ & holding cost & $\inventory_t^i$ & inventory level \\
        $c^i$ & setup cost & $\quantity_t^i$ & produced quantity \\
        $\demand_t^i$ & demand  & $\setup_t^i$ & setup variable \\\hline
      \end{tabular}
    \end{center}
  \end{itemize}
}

\end{myframe}


\begin{myframe}[Disadvantage of CLSP formulation (according to Argon Consulting)]

\mytext{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
  \item Setup costs are hard to compare to holding costs
    \begin{itemize}
    \item Inventory captures locked-in funds, depreciation
    \item Setup costs are linked to workforce, time loss
    \end{itemize}
  \item[]
  \item A bound over the number of setups is easier to get
    \begin{itemize}
    \item Given by operational level
    \item Represents scheduling constraints (which are not captured at this level)
    \end{itemize}
  \end{itemize}
}

\end{myframe}


\begin{myframe}[Multi-item lot-sizing problem with bounded number of setups]

\mytext{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{equation}\label{eq:CLSP-BS}\tag{CLSP-BS}
    \begin{array}{rl@{\qquad}l}
      \min & \multicolumn{2}{l}{\ds \sum_{t=1}^{\horizon} \sum_{i\in\REF}\bracket{\holding^i\inventory_t^i+ \Ccancel{c^i \setup_t^i}}}
      \\
      \st & \ds \inventory_t^i = \inventory_{t-1}^i + \quantity_t^i - \demand_t^i & \forall t, \forall i
      \\
      & \ds \sum_{i\in\REF} \quantity_t^i \le 1 & \forall t
      \\
      & \ds \quantity_t^i \le \setup_t^i & \forall t, \forall i
      \\
      & \ds \red{\sum_{i\in\REF} \setup_t^i \le \nbsetups} & \red{\forall t}
      \\
      & \ds \setup_t^i \in \crbracket{0,1} & \forall t, \forall i
      \\
      & \ds \quantity_t^i,\ \inventory_t^i \ge 0 & \forall t, \forall i
    \end{array}
  \end{equation}
}

\mytext{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
  \item Bounded number of setups per week ($\nbsetups$)
  \item Easier for industrials to quantify holding costs and $\nbsetups$
  \item This model is new (notable exception: \cite{Rubaszewski2011} have a similar bound on the whole horizon and keep setup costs)
  \end{itemize}
}
\end{myframe}


\begin{myframe}[Dealing with uncertainty]

\mytext{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
    \item Context
    \begin{itemize}
      \item Stochastic demand
      \item Production levels can be set each week
      \item Objective: minimize the expected costs
    \end{itemize}
    \item Need for backorder
    \begin{itemize}
      \item Mathematical reason:
      \begin{itemize}
        \item Simple example:

        - Bounded capacity

        - Gaussian noise around demand
      \end{itemize}
      $\implies$ There is no feasible solution

      \item Industrial reason:
      \begin{itemize}
        \item Nonnegative inventories are commercial constraints
        \item Firms can deliver late 
      \end{itemize}
      $\implies$ ``soft'' constraints
    \end{itemize}
  \end{itemize}
}

\mytext[$(7.25,6)$]{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \input{images/gaussian_noise_around_demand.tex}
}

\end{myframe}


\begin{myframe}[Stochastic lot-sizing problem with bounded number of setups]

\mytext{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{equation}\label{eq:stochastic-CLSP-BS}\tag{S}
    \begin{array}{rl@{\qquad}l}
      \min & \multicolumn{2}{l}{\ds \esper{\sum_{t=1}^{\horizon} \sum_{i\in\REF} \bracket{\red{\holding^i \va\excess_t^i + \delay^i\va\backlog_t^i}}}}
      \\
      \st & \ds \red{\va\inventory_t^i = \va\excess_t^i - \va\backlog_t^i} & \red{\forall t, \forall i}
      \\
      & \ds \va\inventory_t^i = \va\inventory_{t-1}^i + \va\quantity_t^i - \va\demand_t^i & \forall t, \forall i
      \\
      & \ds \sum_{i\in\REF} \va\quantity_t^i \le 1 & \forall t
      \\
      & \ds \va\quantity_t^i \le \va\setup_t^i & \forall t, \forall i
      \\
      & \ds \sum_{i\in\REF} \va\setup_t^i \le \nbsetups & \forall t
      \\
      & \ds \va\setup_t^i \in \crbracket{0,1} & \forall t, \forall i
      \\
      & \ds \va\quantity_t^i,\ \red{\va\excess_t^i,\ \va\backlog_t^i} \ge 0 & \forall t, \forall i
      \\
      & \ds \red{\va\quantity_t^i\ \mbox{is}\ \Sfield{\bracket{\va\demand_1^i,\ldots,\va\demand_{t-1}^i}_{i\in\REF}}\mbox{--measurable}} & \red{\forall t,\ \forall i.}
    \end{array}
  \end{equation}
}

\mytext{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{center}
    \begin{tabular}{lllll}
      with: & $\delay^i$ & backorder penalization, & $\va\excess_t^i$ & inventory level, \\
       & &  & $\va\backlog_t^i$ & backorder quantity
    \end{tabular}
  \end{center}
}

\end{myframe}


\subsection{Solving method}


\begin{myframe}[Problem is hard]

\mytext{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
    \item Deterministic model is hard
    \begin{itemize}
      \item Deterministic model is $\NP$-hard
      \begin{itemize}
        \item Reduce 3-PARTITION for $\nbsetups\ge3$
        \item Deciding if there is a solution when $\nbsetups=1$ is polynomial
        \item Cases $\nbsetups=1$ and $\nbsetups=2$ still open
      \end{itemize}
    \item[]
    \item Continuous relaxation of \ref{eq:CLSP-BS} does \underline{not} depend on $\nbsetups$
    \item[]
    \item 2 natural extended formulations:
      \begin{itemize}
        \item 1 binary variable $x_{pt}$ where $p\in{\REF \choose N}$ per possible plan for a week $t$
        \item 1 binary variable $y_q^i$ where $q\in 2^{\range{\horizon}}$ per possible plan for a item $i$
      \end{itemize}
      $\implies$ Same continuous relaxations as compact formulation
    \end{itemize}
  \end{itemize}
}

\end{myframe}


\begin{myframe}[Problem is hard]

\mytext{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
  \item Stochastic model is bigger than deterministic model
    \begin{itemize}
      \item Exact solving is not yet an option
      \begin{itemize}
        \item Multi-stage with $\horizon\sim15$
        \item Huge number of variables (even uncountable)
        \item We want reasonable computation time
      \end{itemize}
    \item[]
    \item Need for heuristics, \emph{e.g.,}
      \begin{itemize}
        \item Argon's heuristic (industrial heuristic)
        \item Deterministic approximation
        \item \red{Two-stage stochastic programming approach}

        - Information relaxation

        - Sampling
      \end{itemize}
    \end{itemize}
  \end{itemize}
}

\end{myframe}


\begin{myframe}[Two-stage stochastic programming approximation (2SA-$m$)]

\mytext[.75,8.25][observe]{\blockwidth-.9cm}{anchor = north west,
  rectangle, argon gray, thick, draw, fill=argon gray!05
}{
  \begin{itemize}
    \item Observe current inventory level at $t_0$
  \end{itemize}
}

\mytext[.75,1][production]{\blockwidth-.9cm}{anchor = south west,
  inner sep = 2pt, rectangle, argon gray, thick, draw, fill=argon gray!05
}{
  \begin{itemize}
    \item Set production decisions for current week $t_0$
    \item Set $t_0=t_0+1$
  \end{itemize}
}

\mytext[$.5*(observe.south west)+.5*(production.north west)$][stochastic]{\blockwidth-.9cm}{anchor = west,
  inner sep = 2pt, rectangle, argon gray, thick, draw, fill=argon gray!05
}{
  \begin{itemize}
    \item Construct a \red{sample of $m$ scenarios of demand to approximate the scenario tree} (see~\cite{Kleywegt2002})
  \end{itemize}

  \vspace{-.6cm}

  \begin{center}\input{images/tree_to_sample.tex}\end{center}
  
  \vspace{-.8cm}

  \begin{itemize}
    \item Solve the stochastic model with only the $m$ scenarios of demand
  \end{itemize}
}

\draw[argon gray, thick, -angle 60] (observe.south) -- (stochastic.north);
\draw[argon gray, thick, -angle 60] (stochastic.south) -- (production.north);
\draw[argon gray, thick, -angle 60] (production.184) -- ($( .25,0 |- production.184)$) -- ($( .25,0 |- observe.west)$) -- (observe.west);

\end{myframe}


\begin{myframe}[Other heuristic: deterministic approximation]

\mytext[.75,8.25][observe]{\blockwidth-.9cm}{anchor = north west,
  rectangle, argon gray, thick, draw, fill=argon gray!05
}{
  \begin{itemize}
    \item Observe current inventory level at $t_0$
  \end{itemize}
}

\mytext[.75,1][production]{\blockwidth-.9cm}{anchor = south west,
  inner sep = 2pt, rectangle, argon gray, thick, draw, fill=argon gray!05
}{
  \begin{itemize}
    \item Set production decisions for current week $t_0$
    \item Set $t_0=t_0+1$
  \end{itemize}
}

\mytext[$.5*(observe.south west)+.5*(production.north west)$][stochastic]{\blockwidth-.9cm}{anchor = west,
  inner sep = 2pt, rectangle, argon gray, thick, draw, fill=argon gray!05
}{
  \begin{itemize}
    \item \red{Replace random demand $\va\demand_t^i$ by its expectation} in stochastic \ref{eq:CLSP-BS}
    \begin{itemize}
      \item Small Mixed Integer Program
      \item Almost \ref{eq:CLSP-BS} but with backorder
    \end{itemize}
    \item Solve this new problem
  \end{itemize}
}

\draw[argon gray, thick, -angle 60] (observe.south) -- (stochastic.north);
\draw[argon gray, thick, -angle 60] (stochastic.south) -- (production.north);
\draw[argon gray, thick, -angle 60] (production.184) -- ($( .25,0 |- production.184)$) -- ($( .25,0 |- observe.west)$) -- (observe.west);

\end{myframe}


\begin{myframe}[Other heuristic: Argon's heuristic]

\mytext[.75,8.25][precompute]{\blockwidth-.9cm}{anchor = north west,
  rectangle, argon gray, thick, draw, fill=argon gray!05
}{
  \begin{itemize}
    \item For each item $i$
    \begin{itemize}
      \item Compute safety stock $s_{\min}^i$
      \item Compute lot-size $\ell_i$
    \end{itemize}
  \end{itemize}
}

\mytext[.75,5.6][observe]{\blockwidth-.9cm}{anchor = north west,
  rectangle, argon gray, thick, draw, fill=argon gray!05
}{
  \begin{itemize}
    \item Observe current inventory level at $t_0$
  \end{itemize}
}

\mytext[.75,1][production]{\blockwidth-.9cm}{anchor = south west,
  inner sep = 2pt, rectangle, argon gray, thick, draw, fill=argon gray!05
}{
  \begin{itemize}
    \item Set $t_0+1$
  \end{itemize}
}

\mytext[$.5*(observe.south west)+.5*(production.north west)$][lot]{\blockwidth-.9cm}{anchor = west,
  inner sep = 2pt, rectangle, argon gray, thick, draw, fill=argon gray!05
}{
  \begin{itemize}
    \item For each item $i$
    \begin{itemize}
      \item If \red{$\inventory_{t_0}^i \le s_{\min}^i$}, then
      \begin{itemize}
         \item \red{Produce quantity $\ell_i$} at current week $t_0$
       \end{itemize}
    \end{itemize}
  \end{itemize}
}

\draw[argon gray, thick, -angle 60] (precompute.south) -- (observe.north);
\draw[argon gray, thick, -angle 60] (observe.south) -- (lot.north);
\draw[argon gray, thick, -angle 60] (lot.south) -- (production.north);
\draw[argon gray, thick, -angle 60] (production.west) -- ($( .25,0 |- production.west)$) -- ($( .25,0 |- observe.west)$) -- (observe.west);

\end{myframe}


\subsection{Numerical experiments}


\begin{myframe}[Simulations]

\mytext[.5\paperwidth,8.5]{\paperwidth}{anchor = north,
  inner sep = 2pt
}{
  \input{images/simulation.tex}
}

\end{myframe}


\begin{myframe}[Instance]

\mytext[current][text]{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
    \item We use historical data provided by the industrial partner
    \item Numerical values (before normalization)
  \end{itemize}
}

\mytext[$(text.south)+(0,-.25)$][numerical]{.95\blockwidth}{anchor = north,
  inner sep = 2pt
}{
  \begin{tabular*}{\linewidth}{@{\extracolsep{\fill}}lrrrrrr@{\extracolsep{\fill}}}
  \hline
  Instances &
  \multicolumn{6}{c}{Instance characteristics}
  \\ \cline{2-7} \rule{0pt}{.9\normalbaselineskip}
  & $\card{\REF}$
  & $\max\bracket{\espe\sqbracket{\va\demand_t^i}}$
  & \multicolumn{1}{c}{$\capacity$}
  & \multicolumn{1}{c}{$\nbsetups$}
  & \multicolumn{1}{c}{$\holding^i$}
  & \multicolumn{1}{c}{Workload}
  \\\hline
  $L_0$ & $21$ & $3780$ & $8518$ & $7$ & $45$--$88$ & $74\%$
  \\
  $L_1$ & $30$ & $4122$ & $13326$ & $12$ & $52$--$82$ & $52\%$
  \\
  $L_2$ & $21$ & $4992$ & $10562$ & $7$ & $35$--$61$ & $61\%$
  \\
  $L_3$ & $13$ & $6220$ & $10394$ & $5$ & $22$--$30$ & $65\%$
  \\
  $L_4$ & $18$ & $10584$ & $62164$ & $8$ & $12$--$14$ & $35\%$
  \\
  $L_5$ & $12$ & $11772$ & $7902$ & $6$ & $15$--$17$ & $98\%$
  \\
  $L_6$ & $22$ & $8640$ & $13299$ & $8$ & $16$--$23$ & $98\%$
  \\\hline
  \end{tabular*}
}

\mytext[numerical.south]{.95\blockwidth}{anchor = north,
  inner sep = 2pt
}{
  \begin{tabular*}{\linewidth}{@{\extracolsep{\fill}}lll}
  $\REF$: set of items &
  $\va\demand_t^i$: demand &
  $\capacity$: line capacity
  \\
  $\nbsetups$: number of setups &
  $\holding^i$: unitary holding cost
  \end{tabular*}
}

\end{myframe}


\begin{myframe}[Probabilistic model of demand]

\mytext[current][text]{\blockwidth}{anchor = north west,
inner sep = 2pt
}{
\begin{itemize}
  \item Demand distribution is not provided by the industrial partner
  \item Features of desired probabilistic model of demand
  \begin{enumerate}
    \item Few parameters (expectation and standard deviation)
    \item $\sum_{t,i}\va\demand_t^i$ is deterministic (only product mix variations)
    \item Easy to simulate
    \item Same simulator and same properties conditionally to the past
  \end{enumerate}
  \item We propose a model based on Dirichlet distributions
  \begin{itemize}
    \item Parameters:
    \begin{itemize}
      \item Projected demand used as expectation (e.g., historical demand)
      \item One parameter $v$ (volatility) such as $v\simeq\frac{\mbox{standard deviation}}{\mbox{expectation}}$
    \end{itemize}
    \item Simulation based on Gamma distributed variables
  \end{itemize}
  \item Can be used by industrials which do not have scenarios
\end{itemize}
}

\end{myframe}


\begin{myframe}[Results: objective function (holding and backorder costs)]

\mytext[current][text]{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
    \item Objective function in M\euro
    \item Mean over 30 runs for objective fill rate service level $=95\%$
    \begin{itemize}
      \item Computing time limit for each week $=120$s
      \item $m=20$ scenarios
      \item Volatility $v=50\%$
    \end{itemize}
  \end{itemize}
}

\mytext[$(text.south)+(0,-.25)$]{.6\blockwidth}{anchor = north,
  inner sep = 2pt
}{
  \begin{tabular*}{\linewidth}{@{\extracolsep{\fill}}lrrr@{\extracolsep{\fill}}}
  \hline
  Instances
  & \multicolumn{1}{c}{2SA-$m$}
  & \multicolumn{1}{c}{Det.}
  & \multicolumn{1}{c}{Argon}
  \\\hline
  $L_0$ & 1616 & 1679 & 8237
  \\
  $L_1$ & 1869 & 2006 & 14450
  \\
  $L_2$ & 1367 & 1481 & 9280
  \\
  $L_3$ & 707 & 741 & 4481
  \\
  $L_4$ & 755 & 830 & 8292
  \\
  $L_5$ & 400 & 433 & 1093
  \\
  $L_6$ & 2262 & 2424 & 3594
  \\\hline\hline
  \small Computing time & $120$s & $\le10$s & $\le1$s
  \\\hline
  \end{tabular*}
}

\end{myframe}


\begin{myframe}[Results: holding costs vs. service level (line $L_5$, volatility $v=50\%$)]

\mytext[0,8.25]{.45\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  %\begin{figure}[htb]
    \centering
    \input{images/simul_line-5_volatility-50_service-95.tikz}
  %  \caption{Results for the 30 runs of L2 with $v=0.5$ and $\delay=1000$}
  %  \label{fig:cloud-realization}
  %\end{figure}
}

\mytext[0,2]{.48\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \footnotesize
  \begin{itemize}
  \item Results for the 30 runs of $L_5$ for objective fill rate service level $=95\%$
  \end{itemize}
}

\mytext[\blockwidth,8.25][3fillrate]{.53\blockwidth}{anchor = north east,
  inner sep = 2pt
}{
  %\begin{figure}[htb]
    \centering
    \input{images/simul_line-5_volatility-50_mix-safety.tikz}
  %  \caption{Average results for L2 for various values of desired service level $\servicelvl$ and $v=0.5$}
  %  \label{fig:mean-realization}
  %\end{figure}
}

\mytext[5.9,2]{.53\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \footnotesize
  \begin{itemize}
  \item Average results for $L_5$ for objective fill rate service level $\in\crbracket{85\%,95\%,98\%}$
  \end{itemize}
}

\end{myframe}


\begin{myframe}[Results: other KPI's]

\mytext[current][text]{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
    \item Real inventory cost is the main part of objective function
    \item Backorder and fill rate service level
    \begin{itemize}
      \item Argon's heuristic always has very high service level at the expense of high inventory
      \item (2SA-$m$) and Det. are more flexible but too optimistic
    \end{itemize}
    \item Workload is greater for Argon's heuristic than in (2SA-$m$) and Det.
    \item Flexibility is not fully used in Argon's heuristic ($\sim90\%$)
    \item[]
    \item Limits of the comparison
    \begin{itemize}
      \item Not every detail of Argon's heuristic is known
      \item Some very specific constraints may have been omitted
    \end{itemize}
  \end{itemize}
}

\end{myframe}


\subsection{Conclusion}


\begin{myframe}[Conclusion]

\mytext{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
    \item We consider a multi-item lot-sizing problem without setup costs but with a bounded number of setups
    \item We show some complexity results on the deterministic problem
    \item In a stochastic setting, we consider three heuristics compared on a simulator based on industrial data
    \begin{itemize}
      \item Argon's heuristic (industrial) is simple and computing time is less than 1s
      \item Deterministic approximation is better than Argon's heuristic in less than 10s
      \item (2SA-$m$) is slightly better than Deterministic approximation
      \begin{itemize}
         \item Greater computing time (120s)
         \item Better on many other KPI
       \end{itemize}
    \end{itemize}
  \end{itemize}
}

\end{myframe}


\begin{myframe}[Unpresented work and perspectives]

\mytext{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
    \item Unpresented work
    \begin{itemize}
      \item Method to price the fill rate service level constraint and compute
surrogate backorder costs
      \begin{itemize}
        \item Based on the newsvendor problem
        \item Too optimistic
      \end{itemize}
      \item Alternative model using \emph{cover-sizes} as decision variables
      \begin{itemize}
        \item For each item, the interval length between two production periods is constant
      \end{itemize}
    \end{itemize}
    \item[]
    \item Perspectives
    \begin{itemize}
      \item Work on sampling method
      \item Find specific valid cuts
      \item Improve pricing of backorder costs
    \end{itemize}
  \end{itemize}
}

\end{myframe}


\begin{myframe}[Business context]

\mytext[0,0]{\blockwidth}{anchor = south west,
  inner sep = 0pt
}{
  \input{images/models_time-line.tex}
}

\end{myframe}


\section{Production multi-sourcing (15')}


\subsection{Business problem and contribution} 


\begin{myframe}[Business problem: production multi-sourcing]

\mytext[$(current)+(0,.3)$]{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
    \item Given:
    \begin{itemize}
      \item Set of plants $\plants$ with bounded capacities, set of items $\REF$
      \item Random demand $\va\demand_t^i$ for each time $t\in\range{\horizon}$ and each item $i\in\REF$
    \end{itemize}
    \item Decisions:
    \begin{itemize}
      \item At time $t=0$, decide for each $i$ which plants can produce $i$ (\emph{flexibility})
      \item These decisions are then set for the whole horizon $\horizon$
    \end{itemize}
    \item Objective: minimize the cost
    \begin{itemize}
      \item Giving plant $p$ ability to produce item $i$ has a cost $\affect_p^i$
    \end{itemize}
    \item Main constraints
    \begin{enumerate}
      \item Capacity of each plant
      \item ``High long term service level''
      \item Worst cases ``not too bad''
    \end{enumerate}
    \item Model must not be too dependent of the industry
    \begin{itemize}
      \item Versatility for Argon Consulting
    \end{itemize}
  \end{itemize}
}

\mytext[4.9,2.95]{.6\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  $\ds\left.\begin{array}{c}\phantom{H}\\\phantom{W}\end{array}\right\}$
  Constraints 2. and 3. are ill-defined!
}

\end{myframe}


\begin{myframe}[Simple example]

\mytext[0,8.6][example]{.75\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{center}
    \input{images/assignment_example.tex}
  \end{center}
}

\mytext[example.east][servicelvl]{.25\blockwidth}{anchor = west,
  inner sep = 2pt
}{
  \input{images/service_level.tex}
}

\mytext[12.5,8.5]{.2\blockwidth}{anchor = north east,
  inner sep = 6pt, rectangle, argon orange, thick, draw, fill=argon orange!05
}{
  \begin{center}
    \only<1>{Cost $=?$}
    \only<2>{Cost $=2$}
    \only<3>{Cost $=4$}
    \only<4>{Cost $=3$}
  \end{center}
}

\end{myframe}


\begin{myframe}[Contributions]

\mytext{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
    \item We aim at proposing a model able to answer the following question
    \item[]
  \end{itemize}
}

\quicker{}{}
{
  What is the cheapest multi-sourcing of production

  to achieve a desired ``long term service level''?
}

\mytext{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
    \item[]
    \item Contributions
    \begin{itemize}
      \item A model
      \item A solving method
      \begin{itemize}
        \item Validated on real dataset
      \end{itemize}
      \item A probabilistic model of demand
    \end{itemize}
  \end{itemize}
}

\end{myframe}


\subsection{Model}


\begin{myframe}[Stochastic model]

\mytext[current][model]{.62\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{equation*}
    \begin{array}{ll@{\quad}l}
      \min\quad & \multicolumn{2}{l}{\ds \sum_{i\in\REF}\sum_{p\in\plants}\affect_p^i \open_p^i}
      \\
      \smallskip
      \st\quad & \ds \va\inventory_t^i = \va\inventory_{t-1}^i + \sum_{p\in\plants}\va\quantity_{pt}^i - \va\demand_t^i & \forall t, \forall i
      \\
      \smallskip
      & \ds \sum_{i\in\REF}\rate_{pt}^i\va\quantity_{pt}^i \leq \capacity_p& \forall t, \forall p
      \\
      \smallskip
      & \ds \lb_p^i \open_p^i \le \rate_{pt}^i\va\quantity_{pt}^i \le \ub_p^i \open_p^i & \forall t, \forall p, \forall i
      \\
      \smallskip
      & \red{\avar_{1-\servicelvl}\bracket{\va\inventory_t^i} \le 0} & \forall t, \forall i
      \\
      \smallskip
      & \ds \va\quantity_{pt}^i\ \mbox{is}\ \Sfield{\bracket{\va\demand_{\tau}^j}_{j, \tau\le t}}\mbox{--measurable} & \forall p, \forall i
      \\
      \smallskip
      & \ds \open_p^i \in \crbracket{0,1} & \forall t, \forall p, \forall i
    \end{array}
  \end{equation*}
}

\mytext[current][servicelvl]{.61\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
    \item where $\servicelvl$ is a parameter to control service level
  \end{itemize}
}

\mytext[model.north east][variables]{.39\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{center}
    \begin{tabular}{|ll|}
      \hline
      \multicolumn{2}{|c|}{input data} % &
      \\\hline
      $\affect_p^i$ & assignment cost \\
      $\rate_{pt}^i$ & production rate \\
      $\va\demand_t^i$ & demand \\
      $\capacity_p$ & plant capacity \\
      $\lb_p^i$ & minimal production \\
      $\ub_p^i$ & maximal production
      \\\hline\hline
      \multicolumn{2}{|c|}{variables} \\\hline
      $\open_p^i$ & assignment variable \\
      $\va\quantity_{pt}^i$ & produced quantity \\
      $\va\inventory_t^i$ & inventory variable
      \\\hline
    \end{tabular}
  \end{center}
}

\mytext[variables.south east]{.38\blockwidth}{anchor = north east,
  inner sep = 2pt
}{
  \begin{itemize}
    \item with
    \begin{itemize}\small
      \item $p\in\plants$ for plants
      \item $i\in\REF$ for items
      \item $t\in\range{T}$ for periods
    \end{itemize}
  \end{itemize}
}

\end{myframe}


\begin{myframe}[Measure of risk -- average value at risk ($\avar$)]

\mytext{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
    \item Objective: quantify the risk of a position
    \item Average value at risk $\ds\avar_{\lambda}\bracket{\va X} = -\espe\sqbracket{\va X\left|\va X \le q^+_{\lambda}(\va X)\right.}$
    \begin{itemize}
      \item Measures the mean over worst cases
    \end{itemize}
    \item Example with inventory $\inventory_t^i$
  \end{itemize}
  \begin{center}
    \input{images/avar-example.tex}
  \end{center}
}

\end{myframe}


\begin{myframe}[$\avar$ constraint vs. other constraints]

\mytext{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{center}
    \renewcommand{\arraystretch}{1.25}
    \begin{tabular*}{.97\linewidth}{@{\extracolsep{\fill}}p{4.2cm}cccc@{\extracolsep{\fill}}}
    \hline
    \multicolumn{1}{c}{Properties} & \multicolumn{4}{c}{Constraints} \\
    \cline{2-5}
                                           & $\avar$      & Expectation  & Robust       & Probabilistic \\
    \hline
    Easy writing                           & \bulletminus & \bulletplus  & \bulletminus & \bulletminus \\ 
    Easy linearization                     & \bulletplus  & \bulletplus  & \bulletplus  & \bulletminus \\
    Easy interpretation                    & $\sim$       & \bulletminus & \bulletplus  & \bulletplus  \\
    Control proportion of worst cases      & \bulletplus  & \bulletminus & \bulletminus & \bulletplus  \\
    Control value of worst cases           & \bulletplus  & \bulletminus & \bulletplus  & \bulletminus \\
    Control increase of objective function & \bulletplus  & \bulletminus & \bulletminus & \bulletplus  \\ 
    Few feasibility issues                 & $\sim$       & \bulletplus  & \bulletminus & $\sim$       \\ 
    Computational complexity               & $\sim$       & \bulletplus  & \bulletplus  & \bulletminus \\
    \hline
    \end{tabular*}
    \renewcommand{\arraystretch}{1}
  \end{center}

  \vspace{-.25cm}

  \begin{itemize}
    \item If $\avar_{\lambda}\bracket{\va X} \le 0$, then $\PP\sqbracket{\va X \ge 0} \ge 1-\lambda$
  \end{itemize}
}

\end{myframe}


\subsection{Solving method}


\begin{myframe}[Linearization of $\avar$ constraint]

\mytext[$(current)+({.025*\blockwidth},0)$]{.94\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{center}
    \begin{lem}\label{lem:linearize-AVaR}
    Parameter $\beta\in]0,1[$ and random variable $\va s$ with
    \begin{itemize}
      \item values in finite set $\{s_{\omega}\colon\omega\in\Omega\}$
      \item probability $\{p_{\omega}\colon\omega\in\Omega\}$
    \end{itemize}

    Then $\avar_{1-\beta}\bracket{\va s} \le 0$ holds \emph{iff} the following polyhedron is non empty
    $$
    \left\{
    \bracket{\alpha,m}\in\RR_+^{\Omega}\times\RR\;\Bigg|\;
    \alpha_{\omega}\geq m-s_{\omega},\;\forall\omega\in\Omega
    \mbox{ and }
    \frac{1}{\card{\Omega}}\sum_{\omega'\in\Omega}p_{\omega'}\alpha_{\omega'}\leq (1-\beta)m
    \right\}
    $$
    \end{lem}
  \end{center}
}

\mytext[0,2.8]{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
    \item Proof is based on the rewriting of $\avar$ by \cite{Rockafellar2002}
    $$\ds\avar_{\lambda}\bracket{\va s} = \frac{1}{\lambda} \inf_{m\in\RR}\bracket{\esper{\bracket{m-\va s}^+}-\lambda m}$$
  \end{itemize}
}

\end{myframe}


\begin{myframe}[Solving method]

\mytext{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
    \item 2-stage approximation
    \begin{itemize}
      \item 1st stage variables: assigning the ability to produce
      \item 2nd stage variables: production variables (demand is now observed over all horizon)
    \end{itemize}
    \item Sampling
    \begin{itemize}
      \item Generate a sample of $m$ scenarios to approximate the distribution of the $\va\demand_t^i$
    \end{itemize}
    \item Linearization of $\avar$ constraint
  \end{itemize}
}

\mytext{.7\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{center}\rotatebox{-90}{\Large $\implies$}\end{center}
}

\mytext{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
  \item We get a mixed integer program solved by either
    \begin{itemize}
      \item LP solver (small dataset)
      \item Heuristic (big dataset)
    \end{itemize}
  \end{itemize}
}

\end{myframe}


\begin{myframe}[Heuristic to find feasible solution]

\quicker{}{}{
  Idea: solve a deterministic version with a bigger demand to face randomness
}

\mytext[current][heuristic]{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
    \item[]
    \item Input: linearized version (S) of multi-sourcing model (big MIP)
    \item Binary search algorithm on $\alpha \ge 1$ \hfill \textcolor{\secondcolor}{(\emph{$N$ iterations})}
    \begin{itemize}
      \item Create (D), deterministic version of multi-sourcing model (small MIP) where
      \begin{itemize}
        \item $\va\demand_t^i$ is replaced by $\alpha\,\espe\sqbracket{\va\demand_t^i}$
        \item $\avar\bracket{\va\inventory_t^i}$ is replaced by $\inventory_t^i\ge0$
      \end{itemize}
      \item Solve (D) \hfill \textcolor{\secondcolor}{(\emph{time limit = $\tau$})}
      \item If (D) is infeasible, then
      \begin{itemize}
        \item Decrease $\alpha$
      \end{itemize}
      \item Else
      \begin{itemize}
        \item Solve (S) with assignment equal to the assignment solution of (D)
        \item If (S) is infeasible, then increase $\alpha$
        \item Else, decrease $\alpha$
      \end{itemize}
    \end{itemize}
    \item Return item assignment found for the smallest $\alpha$
  \end{itemize}
}

\end{myframe}


\subsection{Numerical experiments}


\begin{myframe}[Instance]

\mytext[current][text]{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
    \item We use historical data provided by the industrial partner
    \item Numerical values
  \end{itemize}
}

\mytext[$(text.south)+(0,-.25)$][numerical]{.95\blockwidth}{anchor = north,
  inner sep = 2pt
}{
  \begin{tabular*}{\linewidth}{@{\extracolsep{\fill}}llr@{\extracolsep{5pt}}c@{\extracolsep{5pt}}r@{\extracolsep{\fill}}r@{\extracolsep{5pt}}c@{\extracolsep{5pt}}r@{\extracolsep{\fill}}}
  \hline
  \multicolumn{2}{c}{Instance characteristics} & \multicolumn{6}{c}{Instances}
  \\
  \cline{3-8}
  && \multicolumn{3}{c}{Mel} & \multicolumn{3}{c}{Lux}
  \\
  \hline
  Number of plants & $\card{\plants}$ &&& $4$ &&& $27$
  \\
  Number of items & $\card{\REF}$ &&& $11$ &&& $100$
  \\
  Number of time steps & $\horizon$ &&& $3$ &&& $6$
  \\
  Historical demand & $\tilde{\demand}_t^i$ & $4~884$ &--& $19~959$ & $0$ &--& $16~996$
  \\
  Capacity of plants & $\capacity_p$ & $6~156$ &--& $28~969$ & $2~213$ &--& $43~416$ 
  \\
  Capacity for an item & $\ub_p^i$ & $1~539$ &--& $7~242$ & $721$ &--& $12~753$ 
  \\
  Internal production time & $\rate_{pt}^i$ & $0.4$ &--& $1.1$ & $0.4$ &--& $9.0$
  \\
  Assignment cost & $\affect_p^i$ & $8~392$ &--& $82~196$ & $3~516$ &--& $62~234$ 
  \\
  \hline
  \end{tabular*}
}

\mytext[0,2]{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
    \item Same probabilistic distribution for demand as in lot-sizing model
  \end{itemize}
}

\end{myframe}


\begin{myframe}[Parameters for solving]

\mytext[current][text]{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
    \item Method parameters
    \begin{itemize}
      \item $m=100$ scenarios
      \item Global time limit $=1200s$
      \item Heuristic parameters
      \begin{itemize}
        \item $N=10$ iterations in binary search 
        \item Iteration time limit $\tau=120s$
      \end{itemize}
    \end{itemize}
    \item Computer characteristics
    \begin{itemize}
      \item Processor: 32 x Intel Xeon E5-2667, 3.30GHz (hyperthreading)
      \item RAM: 192 Go 
     \end{itemize}
    \item Linear solver
    \begin{itemize}
      \item Gurobi Optimization 6.5.1
    \end{itemize}
  \end{itemize}
}

\end{myframe}


\begin{myframe}[Results for Mel instances]

\mytext[$(current)+({.505*\blockwidth},0)$]{.95\blockwidth}{anchor = north,
  inner sep = 2pt
}{
  \footnotesize
  \begin{tabular*}{\linewidth}{@{\extracolsep{\fill}}lc|>{\raggedleft\arraybackslash}p{.7cm}|>{\raggedleft\arraybackslash}p{.7cm}|>{\raggedleft\arraybackslash}p{.7cm}|>{\raggedleft\arraybackslash}p{.7cm}|l@{\extracolsep{\fill}}}
  & $\beta$ & \multicolumn{4}{c|}{Volatility} & \multicolumn{1}{c}{Output}
  \\
  & & \multicolumn{1}{c|}{5\%} & \multicolumn{1}{c|}{30\%} & \multicolumn{1}{c|}{50\%} & \multicolumn{1}{c|}{80\%} & 
  \\ \hline\hline
  \multirow{6}{*}{\rotatebox{90}{Solver}} & 70\% & 967 & 1034 & 1134 & 1381 & Objective value \hfill {\scriptsize($\times10^3$)}
  \\
  &     & 100.0 & 99.7 & 99.2 & 98.8 & Fill rate service level \hfill {\scriptsize(in \%)}
  \\ \cline{2-7}
  &85\% & 957 & 1087 & 1188 & \multicolumn{1}{c|}{$\infty$} & Objective value \hfill {\scriptsize($\times10^3$)}
  \\
  &     & 100.0 & 99.9 & 99.6 & \multicolumn{1}{c|}{--} & Fill rate service level \hfill {\scriptsize(in \%)}
  \\ \cline{2-7}
  &95\% & 956 & 1173 & 1371 & \multicolumn{1}{c|}{$\infty$} & Objective value \hfill {\scriptsize($\times10^3$)}
  \\
  &     & 100.0 & 100.0 & 99.9 & \multicolumn{1}{c|}{--} & Fill rate service level \hfill {\scriptsize(in \%)}
  \\ \hline\hline
  \multirow{6}{*}{\rotatebox{90}{Heuristic}} & 70\% & 1176 & 1136 & 1541 & 1640 & Objective value \hfill {\scriptsize($\times10^3$)}
  \\
  &      & 100.0 & 99.0 & 99.3 & 98.5 & Fill rate service level \hfill {\scriptsize(in \%)}
  \\  \cline{2-7}
  & 85\% & 1134 & 1112 & 1230 & \multicolumn{1}{c|}{$\infty$} & Objective value \hfill {\scriptsize($\times10^3$)}
  \\
  &      & 100.0 & 99.5 & 98.7 & \multicolumn{1}{c|}{--} & Fill rate service level \hfill {\scriptsize(in \%)}
  \\  \cline{2-7}
  & 95\% & 968 & 1210 & 1396 & \multicolumn{1}{c|}{$\infty$} & Objective value \hfill {\scriptsize($\times10^3$)}
  \\
  &     & 100.0 & 99.8 & 99.6 & \multicolumn{1}{c|}{--} & Fill rate service level \hfill {\scriptsize(in \%)}
  \\ \hline
  \\ \hline
  \multicolumn{2}{l|}{Solver} & 15.0 & 17.7 & 11.3 & \multicolumn{1}{c|}{--} & Gap (for $\servicelvl=85\%$) \hfill {\scriptsize(in \%)}
  \\  \cline{1-6}
  \multicolumn{2}{l|}{Heuristic} & 28.3 & 19.5 & 14.3 & \multicolumn{1}{c|}{--} & 
  \\ \hline
  \end{tabular*}
}

\end{myframe}


\begin{myframe}[Results for Lux instances]

\mytext[$(current)+({.505*\blockwidth},0)$]{.95\blockwidth}{anchor = north,
  inner sep = 2pt
}{
  \footnotesize
  \begin{tabular*}{\linewidth}{@{\extracolsep{\fill}}lc|>{\raggedleft\arraybackslash}p{.7cm}|>{\raggedleft\arraybackslash}p{.7cm}|>{\raggedleft\arraybackslash}p{.7cm}|>{\raggedleft\arraybackslash}p{.7cm}|l@{\extracolsep{\fill}}}
  & $\beta$ & \multicolumn{4}{c|}{Volatility} & \multicolumn{1}{c}{Output}
  \\
  & & \multicolumn{1}{c|}{5\%} & \multicolumn{1}{c|}{30\%} & \multicolumn{1}{c|}{50\%} & \multicolumn{1}{c|}{80\%} & 
  \\ \hline\hline
  \multirow{9}{*}{\rotatebox{90}{Heuristic}} & 85\% & 1409 & 1516 & 1708 & 1997 & Objective value \hfill {\scriptsize($\times10^3$)}
  \\ \cdashline{3-7}
  &     & 23.0 & 21.0 & 24.0 & 31.0 & Multi-sourced items \hfill {\scriptsize(in \%)}
  \\
  &     & 21.0 & 17.0 & 20.0 & 25.0 & \multicolumn{1}{c}{(on two plants)}
  \\
  &     & 3 & 3 & 3 & 4 & Multi-sourcing (max)
  \\ \cdashline{3-7}
  &     & 24.1 & 24.7 & \multicolumn{1}{c|}{--} & \multicolumn{1}{c|}{--} & Gap \hfill {\scriptsize(in \%)}
  \\
  &     & 1070 & 1142 & \multicolumn{1}{c|}{--} & \multicolumn{1}{c|}{--} & Cont. relax. \hfill {\scriptsize($\times10^3$)}
  \\
  &     & 8.0 & 14.3 & 24.0 & 24.0 & Time for bound \hfill {\scriptsize(in h)}
  \\ \cdashline{3-7}
  &     & Limit & Yes & Yes & Yes & Feasibility
  \\
  &     & \multicolumn{1}{c|}{--} & 89.4 & 94.0 & 94.6 & Fill rate service level \hfill {\scriptsize(in \%)}
  \\
  &     & 24.0 & 1.0 & 1.0 & 0.8 & Evaluation time \hfill {\scriptsize(in h)}
  \\ \hline
\end{tabular*}

\begin{itemize}
  \item No results with the LP solver in 24h
  \item[]
  \item Current multi-sourcing in Lux
  \begin{itemize}
    \item Cost $=6631$
  \end{itemize}
\end{itemize}
}

\mytext[4.3,0.65][text]{\blockwidth}{anchor = south west,
  inner sep = 2pt
}{
  \input{images/current_multi-sourcing.tikz}
}

\end{myframe}


\subsection{Conclusion}


\begin{myframe}[Conclusion and perspectives]

\mytext[current][bibliography]{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
    \item Conclusion
    \begin{itemize}
      \item We propose a risk constraint to take into account service level
      \item We propose a method to solve it leading to a MIP formulation
      \item We show its efficiency on real dataset
    \end{itemize}
    \item[]
    \item Unpresented works
    \begin{itemize}
      \item Alternative model maximizing service level subject to limited investment
    \end{itemize}
    \item[]
    \item Perspectives
    \begin{itemize}
      \item Decomposition methods (Bender) to solve the MIP
      \item Work on sampling method
    \end{itemize}
  \end{itemize}
}

\end{myframe}


\begin{myframe}[Business context]

\mytext[0,0]{\blockwidth}{anchor = south west,
  inner sep = 0pt
}{
  \input{images/models_time-line.tex}
}

\end{myframe}


\section{Continuous-time inventory model (3')}


\begin{myframe}[Continuous-time inventory model (Overview)]

\mytext[current][bibliography]{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  \begin{itemize}
    \item Close to \emph{Economic Production Quantity} model but with bound on the number of setups

    \vspace{-.5cm}

    \begin{center}
    \input{images/campaign_size_effect.tikz}
    \end{center}

    \vspace{-.5cm}

    \item Closed-form formula in deterministic and stochastic cases

    \vspace{-.25cm}

    $$\mbox{\small$\cover_i^*= \frac{\sum_{j\in\REF}\sqrt{\holding_j\demand_j\bracket{1-\frac{\demand_j}{\rate_j}}}}{\nbsetups\sqrt{\holding_i\demand_i\bracket{1-\frac{\demand_i}{\rate_i}}}}\qquad\forall i\in\REF,$}$$

    \vspace{-.25cm}

    \item Extension to multi-line case
    \begin{itemize}
      \item Minimization of a concave function over a polyhedron
    \end{itemize}
  \end{itemize}
}


\end{myframe}


\begin{myframe}[]

\mytext[0,5]{\blockwidth}{anchor = west,
  inner sep = 2pt
}{
  \begin{center}
    \Huge \textcolor{argon orange}{Thank you for your attention!}
  \end{center}
}

\end{myframe}


\addtocounter{framenumber}{-1}


\begin{myframe}[Bibliography]

\mytext[current][bibliography]{\blockwidth}{anchor = north west,
  inner sep = 2pt
}{
  % La bibliographie
  \bibliographystyle{apalike}
  \bibliography{template_diapo}
}

\end{myframe}


\end{document}